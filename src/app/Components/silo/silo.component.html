<div class="flex flex-col gap-2">
  <div>
    <h1 class="font-bold text-xl uppercase">
      <i class="fa-solid fa-user"></i> Bienvenue: {{ isFormVisible }}
    </h1>
  </div>
  <div
    class="flex flex-row justify-between items-center gap-2 p-4 bg-slate-300"
  >
    <h1 class="text-xl font-semibold text-dark-purple">
      Section pour gére les silos
    </h1>
    <button
      type="submit"
      class="p-2 bg-dark-purple text-white text-lg rounded-md"
      (click)="FormVisible()"
    >
      Add Silo
    </button>
  </div>
  <div
    class="flex lg:flex-row flex-col items-center justify-between px-2 bg-slate-200 w-full"
  >
    <div
      class="flex lg:flex-row flex-col justify-between items-center gap-2 p-3 w-full"
    >
      <!-- <select
        name="statut"
        class="p-2 rounded-sm w-40 text-center"
      >
        <option value="">Choisissez</option>
        <option value="impaye">Impayé</option>
        <option value="paye">Payé</option>
      </select> -->
      <input
        type="text"
        placeholder="toutes les données"
        class="p-2 rounded-sm w-[80%] text-center"
      />
      <button
        class="bg-dark-purple p-2 px-3 text-white font-medium rounded-md"
        type="submit"
      >
        <i class="fa-solid fa-magnifying-glass"></i>
      </button>
    </div>
  </div>
  <div>
    <div class="mt-8 overflow-x-auto bg-white p-4 shadow-md">
      <table class="min-w-full bg-gray-50">
        <thead class="bg-gray-200">
          <tr>
            <th
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              N° silo
            </th>
            <th
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Produit
            </th>
            <th
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Stock initial
            </th>
            <th
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Entre
            </th>
            <th
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Consommation Auto
            </th>
            <th
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Stock Final
            </th>
            <th
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Date Validation
            </th>
            <th
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Statut
            </th>
            <th
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b"
            >
              Actions
            </th>
          </tr>
        </thead>
        <tbody class="overflow-y-auto">
          <tr class="bg-gray-50 hover:bg-gray-200" *ngFor="let silo of silos, let i = index">
            <td class="px-6 py-4 text-sm text-gray-700 border-b">{{silo.numsilo}}</td>
            <td class="px-6 py-4 text-sm text-gray-700 border-b">{{silo.produit}}</td>
            <td class="px-6 py-4 text-sm text-gray-700 border-b">{{silo.stockI}}</td>
            <td class="px-6 py-4 text-sm text-gray-700 border-b">{{silo.entre}}</td>
            <td class="px-6 py-4 text-sm text-gray-700 border-b">{{silo.consommation}}</td>
            <td class="px-6 py-4 text-sm text-gray-700 border-b">{{silo.stockf}}</td>
            <td class="px-6 py-4 text-sm text-gray-700 border-b">{{silo.statut}}</td>
            <td class="px-6 py-4 text-sm text-gray-700 border-b">{{silo.datevalidation}}</td>

            <td class="px-6 py-4 text-sm text-gray-700 border-b">
              <button type="submit" class="bg-green-400 p-2 px-5">
                Modifier
              </button>
            </td>
            <!-- <td >
              <button
                type="submit"
                class="text-2xl"
              >
                <i class="fa-solid fa-share-from-square"></i>
              </button>
            </td> -->
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!--le form pour creer les silos-->
  <div
    *ngIf="isFormVisible"
    class="fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex justify-center items-center z-10"
  >
    <form class="bg-white p-6 rounded-lg lg:w-1/3 w-72 text-center">
      <h2 class="text-lg font-bold">Ajouter un Silo</h2>
      <input
        type="text"
        placeholder="N° Silo"
        class="p-2 rounded-md w-full mt-2"
        name="numsilo"
        required
      />
      <input
        type="text"
        placeholder="Produit"
        class="p-2 rounded-md w-full mt-2"
        name="produit"
        required
      />
      <input
        type="number"
        placeholder="Stock initial"
        class="p-2 rounded-md w-full mt-2"
        name="stockI"
        required
      />
      <input
        type="number"
        placeholder="Entre"
        class="p-2 rounded-md w-full mt-2"
        name="entre"
        required
      />
      <input
        type="number"
        placeholder="Consommation Auto"
        class="p-2 rounded-md w-full mt-2"
        name="consommation"
        required
      />
      <div class="flex justify-center mt-4">
        <button type="submit" class="bg-dark-purple text-white p-2 rounded-md">
          <i class="fa-solid fa-floppy-disk"></i> Enregistrer
        </button>
        <button
          type="button"
          class="bg-gray-400 text-white p-2 rounded-md ml-2"
          (click)="FormVisible()"
        >
          <i class="fa-solid fa-xmark"></i> Annuler
        </button>
      </div>
    </form>
  </div>
</div>
